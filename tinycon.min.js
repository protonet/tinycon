(function(){var k={},m=null,n=null,r=document.title,h=null,d=null,f={},p={width:7,height:9,font:"10px arial",colour:"#ffffff",background:"#F03D25",fallback:!0,abbreviate:!0},g=function(){var b=navigator.userAgent.toLowerCase();return function(a){return-1!==b.indexOf(a)}}(),u=g("msie");g("chrome");var v=g("chrome")||g("safari"),w=g("safari")&&!g("chrome"),x=g("mozilla")&&!g("chrome")&&!g("safari"),s=function(){return u||w||"force"===f.fallback||!l().getContext},y=function(){if(!n||!m){var b;a:{b=document.getElementsByTagName("link");
for(var a=0,c=b.length;a<c;a++)if((b[a].getAttribute("rel")||"").match(/\bicon\b/)){b=b[a];break a}b=!1}n=m=b?b.getAttribute("href"):"/favicon.ico"}return m},l=function(){if(!d){d=document.createElement("canvas");d.width=16;d.height=16;var b=d.getContext("2d"),a=window.devicePixelRatio||1,c=b.backingStorePixelRatio||b.webkitBackingStorePixelRatio||b.mozBackingStorePixelRatio||b.msBackingStorePixelRatio||1,e=a/c;a!==c&&(d.width*=e,d.height*=e,b.scale(e,e))}return d},q=function(b){for(var a=document.getElementsByTagName("link"),
c=document.getElementsByTagName("head")[0],e=0,f=a.length;e<f;e++)"undefined"!==typeof a[e]&&(a[e].getAttribute("rel")||"").match(/\bicon\b/)&&c.removeChild(a[e]);a=document.createElement("link");a.type="image/x-icon";a.rel="icon";a.href=b;document.getElementsByTagName("head")[0].appendChild(a)},z=function(b,a){if(s())return t(b);var c=l().getContext("2d"),e=y();h=new Image;h.onload=function(){c.clearRect(0,0,16,16);c.drawImage(h,0,0,h.width,h.height,0,0,16,16);if(0<(b+"").length){var a=b;if("number"==
typeof a&&99<a&&f.abbreviate)for(var e=[["G",1E9],["M",1E6],["k",1E3]],d=0;d<e.length;++d)if(a>=e[d][1]){a=(new Number(a/e[d][1])).toFixed(void 0)+e[d][0];break}var e=f.width+6*((a+"").length-1),d=16-e,g=16-f.height;c.font=(v?"bold ":"")+f.font;c.fillStyle=f.background;c.strokeStyle=f.background;c.lineWidth=1;c.fillRect(d,g,e-1,f.height);c.beginPath();c.moveTo(d-0.5,g+1);c.lineTo(d-0.5,15);c.stroke();c.beginPath();c.moveTo(15.5,g+1);c.lineTo(15.5,15);c.stroke();c.beginPath();c.strokeStyle="rgba(0,0,0,0.3)";
c.moveTo(d,16);c.lineTo(15,16);c.stroke();c.fillStyle=f.colour;c.textAlign="right";c.textBaseline="top";c.fillText(a,15,x?7:6)}l().getContext&&q(l().toDataURL())};e.match(/^data/)||(h.crossOrigin="anonymous");h.src=e},t=function(b){f.fallback&&(document.title=0<(b+"").length?"("+b+") "+r:r)};k.setOptions=function(b){f={};for(var a in p)f[a]=b.hasOwnProperty(a)?b[a]:p[a];return this};k.setImage=function(b){m=b;l().getContext&&q(l().toDataURL());return this};k.setBubble=function(b,a){z(b||"",a);return this};
k.reset=function(){if(s())return t("");q(n)};k.setOptions(p);window.Tinycon=k})();
